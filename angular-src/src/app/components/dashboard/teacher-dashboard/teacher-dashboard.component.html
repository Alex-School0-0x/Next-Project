<div class="teacher-dashboard">
  <h2>Teacher Dashboard</h2>

  <div class="questionnaire-section">
    <h3>Teacher Yet to Answer</h3>
    @if (notAnsweredByTeacher.length > 0) {
      @for(questionnaire of notAnsweredByTeacher; track questionnaire.id){
        <ul>
          <li>
            <p><strong>ID: </strong>{{ questionnaire.id}}</p>
            <p><strong>Student ID: </strong>{{ questionnaire.student.id }}</p>
            <p><strong>Student Name: </strong>{{ questionnaire.student.username }}</p>
            <div class="status-badge" [ngClass]="questionnaire.isStudentFinished ? 'badge-completed' : 'badge-pending'">
              {{ questionnaire.isStudentFinished ? 'Teacher Finished' : 'Teacher Pending' }}
            </div>
            <div class="status-badge badge-pending">Teacher Pending</div>
          </li>
        </ul>
        @if (!questionnaire.isTeacherFinished) {
          <button (click)="toActiveQuestionnaire(questionnaire.id)" class="route-button">Route to Teacher Component</button>
        }
        <hr class="hr-line">
      }
    } @else {
      <p>No pending questionnaires for you.</p>
    }
  </div>
</div>


  <div class="questionnaire-section">
    <h3>Students Who Have Finished</h3>
    @if (finishedByStudents.length > 0) {
      @for(questionnaire of finishedByStudents; track questionnaire.id){
        <ul>
          <li>
            <p><strong>ID: </strong>{{ questionnaire.id}}</p>
            <p><strong>Student ID: </strong>{{ questionnaire.student.id }}</p>
            <p><strong>Student Name: </strong>{{ questionnaire.student.username }}</p>
            <div class="status-badge badge-completed">Student Finished</div>
            <div class="status-badge" [ngClass]="questionnaire.isTeacherFinished ? 'badge-completed' : 'badge-pending'">
              {{ questionnaire.isTeacherFinished ? 'Teacher Finished' : 'Teacher Pending' }}
            </div>
          </li>
        </ul>
        @if (!questionnaire.isTeacherFinished) {
          <button (click)="toActiveQuestionnaire(questionnaire.id)" class="route-button">Route to Teacher Component</button>
        }
        <hr class="hr-line">
      }
    } @else {
      <p>No students have finished yet.</p>
    }
  </div>

  <div class="questionnaire-section">
    <h3>Students Yet to Answer</h3>
    @if (notAnsweredByStudents.length > 0) {
      @for(questionnaire of notAnsweredByStudents; track questionnaire.id){
        <ul>
          <li>
            <p><strong>ID: </strong>{{ questionnaire.id}}</p>
            <p><strong>Student ID: </strong>{{ questionnaire.student.id }}</p>
            <p><strong>Student Name: </strong>{{ questionnaire.student.username }}</p>
            <div class="status-badge badge-pending">Student Pending</div>
            <div class="status-badge" [ngClass]="questionnaire.isTeacherFinished ? 'badge-completed' : 'badge-pending'">
              {{ questionnaire.isTeacherFinished ? 'Teacher Finished' : 'Teacher Pending' }}
            </div>
          </li>
        </ul>
        @if (!questionnaire.isTeacherFinished) {
          <button (click)="toActiveQuestionnaire(questionnaire.id)" class="route-button">Route to Teacher Component</button>
        }
        <hr class="hr-line">
      }
    } @else {
      <p>All students have answered.</p>
    }
  </div>