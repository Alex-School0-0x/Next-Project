@if(studentList.length > 0){
  <div class="studentList">
    <h2>Student List:</h2>
    <ul>
       @for (student of studentList; track student.id) {
        <li>
          <p>ID: {{student.id}}</p>
          <p>Username: {{student.username}}</p>
          <p>Role: {{student.role}}</p>
          @if(!isStudentInQuestionnaire(student.id)){
            <button (click)="addStudentToQuestionnaire(student.id)">Add to Questionnaire</button>
          }
        </li>
       }
    </ul>
  </div>
}
@else{
  <p>No students found.</p>
}

@if(studentsYetToFinish.length > 0){
  <div class="studentList">
    <h2>Students Yet to Finish Questionnaire:</h2>
    <ul>
      @for(student of studentsYetToFinish; track student.id){
        <li>
          <p>ID: {{student.id}}</p>
          <p>Username: {{student.username}}</p>
          <p>Role: {{student.role}}</p>
        </li>
      }
    </ul>
  </div>
}

@if(activeQuestionnaires.length > 0){
  <div class="questionnaireList">
    <h2>Active Questionnaires:</h2>
    <ul>
      @for(questionnaire of activeQuestionnaires; track questionnaire.id){
        <li class="questionnaire-item">
          <h3>Questionnaire ID: {{questionnaire.id}}</h3>
          <div class="questionnaire-details">
            <div class="user-info">
              <h4>Student</h4>
              <p><strong>ID:</strong> {{questionnaire.student.id}}</p>
              <p><strong>Name:</strong> {{questionnaire.student.username}}</p>
              <p><strong>Role:</strong> {{questionnaire.student.role}}</p>
              <p><strong>Status:</strong> {{questionnaire.isStudentFinished ? 'Finished' : 'Not Finished'}}</p>
            </div>
            <div class="user-info">
              <h4>Teacher</h4>
              <p><strong>ID:</strong> {{questionnaire.teacher.id}}</p>
              <p><strong>Name:</strong> {{questionnaire.teacher.username}}</p>
              <p><strong>Role:</strong> {{questionnaire.teacher.role}}</p>
              <p><strong>Status:</strong> {{questionnaire.isTeacherFinished ? 'Finished' : 'Not Finished'}}</p>
            </div>
          </div>
          @if(questionnaire.id){
            <button (click)="deleteActiveQuestionnaire(questionnaire.id)">Delete</button>
          }
        </li>
      }
    </ul>
  </div>
} @else {
  <p>No active questionnaires found.</p>
}

<div class="studentList">
  <h3>Create New Questionnaire</h3>
    <label for="studentId">Student ID:</label>
    <input id="studentId" #studentId type="number" required>
    <label for="teacherId">Teacher ID:</label>
    <input id="teacherId" #teacherId type="number" required>
    <button (click)="createActiveQuestionnaire(+studentId.value, +teacherId.value)" type="submit">Create</button>
</div>
